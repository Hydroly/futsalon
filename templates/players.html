{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold mb-4 text-blue-800">مدیریت بازیکنان</h2>
<form method="post" action="/players" class="flex gap-2 mb-8">
    <input type="text" name="name" placeholder="نام" class="p-2 border rounded">
    <select name="level" class="p-2 border rounded">
        <option value="guest">مهمان</option>
        <option value="normal" selected>عادی</option>
        <option value="permanent">دائمی</option>
    </select>
    <button type="submit" class="bg-blue-500 text-white p-2 rounded">اضافه کردن</button>
</form>
<table class="w-full border-collapse bg-white shadow-xl rounded-xl overflow-hidden">
    <thead>
        <tr class="bg-gradient-to-r from-blue-700 to-blue-800 text-white">
            <th class="p-2">نام</th>
            <th class="p-2">سطح</th>
            <th class="p-2">عملیات</th>
        </tr>
    </thead>
    <tbody class="text-center">
        {% for player in players %}
        <tr>
            <td class="p-2">{{ player.name }}</td>
            <td class="p-2">{%if player.level == 'guest' %} مهمان {%elif player.level == 'permanent' %}دائمی {%elif player.level == 'normal' %}عادی{%endif%}</td>
            <td class="p-2">
                <form method="post" action="/players/{{ player.id }}/edit" class="inline">
                    <input type="text" name="name" value="{{ player.name }}" class="p-1 border">
                    <select name="level" class="p-1 border">
                        <option value="guest" {% if player.level == "guest" %}selected{% endif %}>مهمان</option>
                        <option value="normal" {% if player.level == "normal" %}selected{% endif %}>عادی</option>
                        <option value="permanent" {% if player.level == "permanent" %}selected{% endif %}>دائمی</option>
                    </select>
                    <button type="submit" class="bg-green-500 text-white p-1 rounded">ویرایش</button>
                </form>
                <form method="post" action="/players/{{ player.id }}/delete" class="inline">
                    <button type="submit" class="bg-red-500 text-white p-1 rounded">حذف</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
